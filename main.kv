<SplashScreen>
    name: 'tela de carregamento'
    Image:
        source: 'logo.png'
        size_hint: (0.9, 0.9)
        pos_hint: {'center_x': 0.5, 'center_y': 0.55}
    MDLabel:
        text: 'DoaAção'
        bold: True
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.3}
        font_size: dp(30)
    
<LoginScreen>:
    name: 'criar_login'
    Image:
        source: 'logo.png'
        size_hint: (0.7, 0.7)
        pos_hint: {'center_x': 0.5, 'center_y': 0.85}
    MDLabel:
        text: 'Login'
        font_size: dp(23)
        bold: True
        halign: 'center'
        pos_hint: {'center_x': 0.18, 'center_y': 0.47}
    MDTextField:
        id: login_email
        hint_text: 'Email'
        pos_hint: {'center_x': 0.5, 'center_y': 0.4}
        icon_right: 'email'
        size_hint_x: .8
        text_color: (3, 187, 133)
        
    MDTextField:
        id: login_password
        hint_text: 'Senha'
        pos_hint: {'center_x': 0.5, 'center_y': 0.3}
        size_hint_x: .8
        icon_right: 'lock'
        password: True
        
    MDRaisedButton:
        text: 'Login'
        text_color: 1,1,1,1
        pos_hint: {'center_x': 0.5, 'center_y': 0.2}
        size_hint_x: .8
        elevation:0
        on_release: root.login_user()
    MDTextButton:
        text: 'Ainda não tem uma conta? [u]Cadastre-se.[/u]'
        bold: True
        markup: True
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.09}
        font_size: dp(10)
        size_hint_x: .8
        on_release: 
            root.manager.current = 'register_screen'
            root.manager.transition.direction = 'left'



<RegisterScreen>:
    name: 'register_screen'
    MDIconButton:
        icon: 'arrow-left'
        theme_text_color: 'Custom'
        text_color: (0, 128, 128)
        pos_hint: {'center_x': 0.05, 'center_y': 0.97}
        on_release: 
            root.manager.current = 'criar_login'
            root.manager.transition.direction = 'right'
    Image:
        source: 'logo.png' 
        size_hint: (0.7, 0.7)   
        pos_hint: {'center_x': 0.5, 'center_y': 0.85}
    MDLabel:
        text: 'DoaAção'
        bold: True
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.72}
    MDLabel:
        text: 'Novo usuário'
        font_size: dp(23)
        bold: True
        halign: 'center'
        pos_hint: {'center_x': 0.29, 'center_y': 0.6}
    MDTextField:
        id: email_field
        hint_text: 'Email'
        pos_hint: {'center_x': 0.5, 'center_y': 0.4}
        icon_right: 'email'
        size_hint_x: .8
    MDTextField:
        id: password_field
        hint_text: 'Senha'
        pos_hint: {'center_x': 0.5, 'center_y': 0.3}
        size_hint_x: .8
        icon_right: 'lock'
        password: True
    MDTextField:
        id: confirm_password_field
        hint_text: 'Confirmar Senha'
        pos_hint: {'center_x': 0.5, 'center_y': 0.2}
        size_hint_x: .8
        icon_right: 'lock'
        password: True
    MDTextField:
        id: username_field
        hint_text: 'Nome de usuário'
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        size_hint_x: .8
        icon_right: 'account'
    MDRaisedButton:
        text: 'Criar conta'
        text_color: 1,1,1,1
        pos_hint: {'center_x': 0.5, 'center_y': 0.1}
        size_hint_x: .8
        elevation:0
        on_release: root.register_user()
    MDTextButton:
        text: 'Já possui uma conta? [u]Faça login.[/u]'
        bold: True
        markup: True
        halign: 'center'
        pos_hint: {'center_x': 0.5, 'center_y': 0.15}
        font_size: dp(10)
        size_hint_x: .8
        on_release: 
            root.manager.current  = 'criar_login'
            root.manager.transition.direction = 'right'

<MenuScreen>:
    name: 'menu_screen'
    image_path:''
    MDNavigationLayout:
        ScreenManager:
            Screen:
                MDBottomNavigation:
                    background_color: 1, 1, 1, 1
                    selected_color_background: 'teal'
                    text_color_active: 'lightgray'

                    MDBottomNavigationItem:
                        name: 'primeira tela'
                        text: 'Home'
                        icon: 'home'
                        halign: 'center'
                        MDTopAppBar:
                            pos_hint: {'center_x': 0.5, 'center_y': 0.967}
                            elevation: 0
                        BoxLayout:
                            orientation: 'vertical'
                            MDTextField:
                                hint_text: 'Pesquisar por campanhas'
                                mode: 'round'
                                padding: 10
                                size_hint_y: None
                                height: dp(50)
                                pos_hint: {'center_x': 0.5}
                                icon_left: 'magnify'
                            ScrollView:
                                BoxLayout:
                                    id: campanhas_list
                                    orientation: 'vertical'
                                    height: self.minimum_height
                                    size_hint_y: None
                                    padding: dp(10)
                                    spacing: dp(10)
                                    pos_hint: {'center_x': 0.5}
                        
                    MDBottomNavigationItem:
                        name: 'segunda tela'
                        id: 'criar campanha'
                        text: 'Criar'
                        icon: 'plus'
                        halign: 'center'
                        MDTopAppBar:
                            pos_hint: {'center_x': 0.5, 'center_y': 0.967}
                            elevation: 0
                        Image:
                            source: 'logo.png'
                            size_hint: (0.2, 0.2)
                            pos_hint: {'center_x': 0.5, 'center_y': 0.96}
                        
                        MDLabel:
                            text: 'Criação rápida:'
                            pos_hint: {'center_x': 0.24, 'center_y': 0.86}
                            font_size: dp(20)
                            bold: True
                            halign: 'center'
                        MDCard:
                            style: 'elevated'
                            size_hint: (0.87, 0.27)    
                            pos_hint: {'center_x': 0.5, 'center_y': 0.65}
                            FitImage:
                                source: 'eee.jpg'
                                allow_stretch: True
                                keep_ratio: False
                                radius: 15
                        MDFillRoundFlatButton:
                            text: 'Crie sua campanha já!'
                            text_color: 1,1,1,1
                            pos_hint: {'center_x': 0.5, 'center_y': 0.555}
                            size_hint_x: .8
                            elevation: 0
                            on_release: 
                                root.manager.current = 'CriacaoCampanha'
                                root.manager.transition.direction = 'left'
                    MDBottomNavigationItem:
                        name: 'terceira tela'
                        text: 'Perfil'
                        icon: 'account'
                        halign: 'center'

                        Image:
                            id: perfil_image
                            source: root.image_path
                            size_hint: (0.4, 0.4)
                            pos_hint: {'center_x': 0.5, 'center_y': 0.85}
                        MDFillRoundFlatButton:
                            text: '    Editar perfil    '
                            bold: True
                            text_color: 1,1,1,1
                            pos_hint: {'center_x': 0.5, 'center_y': 0.68}
                            size_hint_x: .2
                            elevation: 0
                            on_release: 
                                root.manager.current = 'editar_perfil'
                                root.manager.transition.direction = 'left'
                        MDFloatLayout:
                            
                            MDList:
                                pos_hint: {'center_x': 0.5, 'center_y': 0.27}
                                OneLineAvatarIconListItem:
                                    text: 'Minhas campanhas'
                                    on_release: 
                                        root.manager.current = 'minhas_campanhas'
                                        root.manager.transition.direction = 'left'
                                    IconLeftWidget:
                                        icon: 'campanha.png'
                                        on_release: 
                                            root.manager.current = 'minhas_doacoes'
                                            root.manager.transition.direction = 'left'
                                OneLineAvatarIconListItem:
                                    text: 'Minhas doações'
                                    on_release: 
                                        root.manager.current = 'minhas_doacoes'
                                        root.manager.transition.direction = 'left'
                                    IconLeftWidget:
                                        icon: 'doacao.png'
                                        on_release: 
                                            root.manager.current = 'minhas_doacoes'
                                            root.manager.transition.direction = 'left'
               
                                OneLineAvatarIconListItem:
                                    text: 'Favoritos'
                                    on_release: 
                                        root.manager.current = 'favoritos'
                                        root.manager.transition.direction = 'left'
                                    IconLeftWidget:
                                        icon: 'star'
                                        on_release: 
                                            root.manager.current = 'configuracoes'
                                            root.manager.transition.direction = 'left'
                                OneLineAvatarIconListItem:
                                    text: 'Configurações'
                                    on_release: 
                                        root.manager.current = 'configuracoes'
                                        root.manager.transition.direction = 'left'
                                    IconLeftWidget:
                                        icon: 'cog'
                                        on_release: 
                                            root.manager.current = 'configuracoes'
                                            root.manager.transition.direction = 'left'
                                OneLineAvatarIconListItem:
                                    text: 'Logout'
                                    on_release: app.show_alert_dialog()
                                    IconLeftWidget:
                                        icon: 'logout'
                                        on_release: app.show_alert_dialog()
     
<CriacaoCampanha>:
    name: 'CriacaoCampanha'
    MDCard:
        style: 'elevated'
        size_hint: (1, 0.27)    
        pos_hint: {'center_x': 0.5, 'center_y': 0.86}
        md_bg_color: 'teal'
        MDRelativeLayout:
            MDIconButton:
                icon: 'camera-outline'
                theme_text_color: 'Custom'
                text_color: 1, 1, 1, 1
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    MDIconButton:
        icon: 'arrow-left'
        theme_text_color: 'Custom'
        text_color: (1, 1, 1, 1)
        pos_hint: {'center_x': 0.073, 'center_y': 0.965}
        on_release: 
            root.manager.current = 'menu_screen'
            root.manager.transition.direction = 'right'
    MDLabel:
        text: 'Título da campanha'
        halign: 'center'
        pos_hint: {'center_x': 0.198, 'center_y': 0.68}
        font_size: dp(13)
    MDTextFieldRect:
        id: titulo_field
        size_hint: 0.9, None
        height: dp(32)
        md_bg_color: 'teal'
        pos_hint: {'center_x': 0.5, 'center_y': 0.64}
        hint_text: 'Ex: Doação de sapatos'
    MDLabel:
        text: 'Descrição'
        halign: 'center'
        pos_hint: {'center_x': 0.13, 'center_y': 0.585}
        font_size: dp(13)
    MDTextFieldRect:
        id: descricao_field
        size_hint: 0.9, None
        height: dp(100)
        md_bg_color: 'teal'
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        hint_text: 'Adicione uma descrição'
    MDLabel:
        text: 'Telefone'
        halign: 'center'
        pos_hint: {'center_x': 0.12, 'center_y': 0.39}
        font_size: dp(13)
    MDTextFieldRect:
        id: outras_informacoes_field
        size_hint: 0.9, None
        height: dp(32)
        md_bg_color: 'teal'
        pos_hint: {'center_x': 0.5, 'center_y': 0.35}
        hint_text: 'Ex: (81) 91234-5678'
    MDRaisedButton:
        text: 'Criar campanha'
        text_color: 1,1,1,1
        pos_hint: {'center_x': 0.5, 'center_y': 0.13}
        size_hint_x: .8
        elevation:0
        on_release: root.enviar_especificacoes()

    
    

<EditarPerfil>:
    name: 'editar_perfil'

    MDIconButton:
        icon: 'arrow-left'
        theme_text_color: 'Custom'
        text_color: (0, 128, 128)
        pos_hint: {'center_x': 0.05, 'center_y': 0.97}
        on_release: 
            root.manager.current = 'menu_screen'
            root.manager.transition.direction = 'right'

    MDRoundFlatButton:
        text: "Escolher Imagem"
        pos_hint: {'center_x': 0.5, 'center_y': 0.7}
        on_release: root.choose_image()

    Image:
        id: perfil_image
        source: root.image_path
        size_hint: (0.4, 0.40)
        pos_hint: {'center_x': 0.5, 'center_y': 0.85}

    MDLabel:
        text: 'Nome de usuário:'
        font_size: dp(12)
        bold: True
        halign: 'center'
        pos_hint: {'center_x': 0.35, 'center_y': 0.6}

    MDTextField:
        id: new_username
        hint_text: 'Nome de usuário'
        mode: 'round'
        pos_hint: {'center_x': 0.5, 'center_y': 0.55}
        icon_right: 'account'
        size_hint_x: .8

    MDRaisedButton:
        text: 'Salvar nome de usuário'
        text_color: 1,1,1,1
        pos_hint: {'center_x': 0.5, 'center_y': 0.48}
        size_hint_x: .8
        elevation: 0
        on_release: root.update_username()

    MDRaisedButton:
        text: 'Redefinir Senha'
        text_color: 1,1,1,1
        pos_hint: {'center_x': 0.5, 'center_y': 0.1}
        size_hint_x: .8
        elevation: 0
        on_release: root.reset_password()

    MDLabel:
        text: 'Novo email:'
        font_size: dp(12)
        bold: True
        halign: 'center'
        pos_hint: {'center_x': 0.25, 'center_y': 0.4}

    MDTextField:
        id: new_email
        hint_text: 'Email'
        mode: 'round'
        pos_hint: {'center_x': 0.5, 'center_y': 0.35}
        icon_right: 'email'
        size_hint_x: .8

    MDRaisedButton:
        text: 'Enviar Verificação de Email'
        text_color: 1,1,1,1
        pos_hint: {'center_x': 0.5, 'center_y': 0.28}
        size_hint_x: .8
        elevation: 0
        on_release: root.reset_email()

<MinhasCampanhas>
    name: 'minhas_campanhas'
    MDTopAppBar:
        pos_hint: {'center_x': 0.5, 'center_y': 0.967}
        elevation: 0
        MDIconButton:
            icon: 'arrow-left'
            theme_text_color: 'Custom'
            text_color: 1, 1, 1, 1
            pos_hint: {'center_x': 0.05, 'center_y': 0.97}
            on_release: 
                root.manager.current = 'menu_screen'
                root.manager.transition.direction = 'right'
    MDLabel:
        text: 'Suas campanhas'
        bold: True
        halign: 'center'
        font_size: dp(20)
        pos_hint: {'center_x': 0.5, 'center_y': 0.955}
        theme_text_color: 'Custom'
        text_color: 1, 1, 1 ,1

<MinhasDoacoes>
    name: 'minhas_doacoes'
    MDTopAppBar:
        pos_hint: {'center_x': 0.5, 'center_y': 0.967}
        elevation: 0
        MDIconButton:
            icon: 'arrow-left'
            theme_text_color: 'Custom'
            text_color: 1, 1, 1, 1
            pos_hint: {'center_x': 0.05, 'center_y': 0.97}
            on_release: 
                root.manager.current = 'menu_screen'
                root.manager.transition.direction = 'right'
    MDLabel:
        text: 'Suas doações'
        bold: True
        halign: 'center'
        font_size: dp(20)
        pos_hint: {'center_x': 0.5, 'center_y': 0.955}
        theme_text_color: 'Custom'
        text_color: 1, 1, 1 ,1

<Favoritos>
    name: 'favoritos'
    MDTopAppBar:
        pos_hint: {'center_x': 0.5, 'center_y': 0.967}
        elevation: 0
        MDIconButton:
            icon: 'arrow-left'
            theme_text_color: 'Custom'
            text_color: 1, 1, 1, 1
            pos_hint: {'center_x': 0.05, 'center_y': 0.97}
            on_release: 
                root.manager.current = 'menu_screen'
                root.manager.transition.direction = 'right'
    MDLabel:
        text: 'Favoritos'
        bold: True
        halign: 'center'
        font_size: dp(20)
        pos_hint: {'center_x': 0.5, 'center_y': 0.955}
        theme_text_color: 'Custom'
        text_color: 1, 1, 1 ,1

<Configuracoes>
    name: 'configuracoes'
    MDTopAppBar:
        pos_hint: {'center_x': 0.5, 'center_y': 0.967}
        elevation: 0
        MDIconButton:
            icon: 'arrow-left'
            theme_text_color: 'Custom'
            text_color: 1, 1, 1, 1
            pos_hint: {'center_x': 0.05, 'center_y': 0.97}
            on_release: 
                root.manager.current = 'menu_screen'
                root.manager.transition.direction = 'right'
    MDLabel:
        text: 'Configurações'
        bold: True
        halign: 'center'
        font_size: dp(20)
        pos_hint: {'center_x': 0.5, 'center_y': 0.955}
        theme_text_color: 'Custom'
        text_color: 1, 1, 1 ,1
    MDList:
        pos_hint: {'center_x': 0.5, 'center_y': 0.859}
        OneLineListItem:
            text: 'Tema escuro'
        OneLineListItem:
            text: 'Fale conosco'
    MDSwitch:
        pos_hint: {'center_x': 0.85, 'center_y': 0.88}
